# 课堂φ classroom-phi：前后端分离的仿课堂派项目

[后端接口文档](API.md)

## 项目架构

### 前端

- 基于 Vue.js 的前端框架：[Vue.js](https://cn.vuejs.org/)
- 使用 vite 构建 ：[vite](https://cn.vitejs.cn/)
- 使用 vue-router 实现路由：[vue-router](https://router.vuejs.org/zh/)
- 使用 axios 实现发送请求：[axios](https://axios-http.com/)
- 使用 element-plus 组件库设计 UI 界面：[element-plus](https://element-plus.org/#/zh-CN)
- 使用 pinia 实现状态管理：[pinia](https://pinia.esm.dev/)

### 后端

- 基于 Spring Boot 的后端框架：[Spring Boot](https://spring.io/projects/spring-boot)

  特性：

  - Spring Boot 应用于 **整合 Spring 系列框架和一些第三方框架**，比如 Spring、Spring Security 和
    MyBatis 等，可以在 `application.properties` 或 `application.yaml` 中进行集中配置，并且只需要修改很少的配置项
  - **直接嵌入 Web 服务器** ，比如 Tomcat、Jetty 和 Undertow 等，不需要部署 WAR 包
  - **提供可选的 starter（场景启动器）**，为每种场景整合一种依赖，可以简化应用整合
  - **按需自动配置 Spring 和第三方库**
    ，如果这些场景我们需要使用（生效），这个场景的依赖就会被自动配置好，每个场景都有很多默认配置（约定大于配置），当然我们也可以自定义配置，在配置文件中修改即可
  - 提供生产就绪型功能，比如指标、健康检查和外部化配置等
  - **不生成额外的代码**，不需要担心生成的代码出问题，且 **不需要 XML 配置**

  总结： **简化开发、配置、整合、部署、监控、运维**。

- 基于 Spring Security 的权限管理：[Spring Security](https://spring.io/projects/spring-security)
- 基于 MyBatis 的持久层框架：[MyBatis](https://mybatis.org/mybatis-3/zh/index.html)
- 基于 MySQL 的数据库：[MySQL](https://www.mysql.com/cn/)

## 项目实现的功能列表

### 基础功能

- [x] 用户使用手机号或邮箱注册，注册时需要填写验证码防止恶意注册：

  注册码接口使用的是课堂派的接口。具体方法为向 getFigureCode 接口发送请求，接口会返回一个验证码的 url
  和 sessionid，使用 url 获取验证码图片后，可以向 verify 接口发送携带 sessionid
  和验证码等必要数据的请求，检验验证码是否正确，如果正确，verify 接口会返回一个 status 为 1
  的 json 数据，前端可以根据这个数据判断验证码是否正确，执行下一步操作。

- [x] 让用户选择身份（老师、学生）：

  使用 vue 给老师、学生选项绑定一个方法，在方法中修改表单的值

- [x] 用户登录（邮箱、手机号或账号配合密码登录），进入课堂主页
- [] 学生输入课程号，选修课程
- [] 教师布置作业
- [] 学生提交作业
- [] 教师为作业评分

#### 教师端详细介绍

- [x] **账号注册：**
  - 账号注册时需要让用户选择身份为教师
- [x] **登录：**
  - 登录时选择一种登录方式
- [] **课堂主页中**
  - 列出教师自己的所有课程（包括创建的和加入的）
  - 教师可以创建课程或加入课程（加入课程即多个教师管理一门课程）
  - 教师可以对自己的课程进行编辑、删除和归档（可以选择归档自己还是归档全部）
  - 归档后的课程可以在归档管理中找到，归档的课程可以选择恢复或删除
  - 教师可以对课程进行拖动排序
- [] **课程详情页：**
  - 教师可以查看课程的成员
  - 教师可以选定学生发布个人作业，作业内容既可以是文字，也可以添加附件（可以不实现查重），发布作业后选定的学生会收到一条作业通知
- [] **作业详情页：**
  - 点击作业可以进入作业详情页，可以配置作业
  - 点击催交，被催交的学生会收到一条作业通知
  - 点击进入批阅可以对 word、pdf等文件进行在线批改，rar等压缩文件则需要下载

#### 学生端详细介绍

- [x] **账号注册：**
  - 账号注册时需要让用户选择身份为学生
- [x] **登录：**
  - 登录时选择一种登录方式
- [] **课堂主页：**
  - 列出学生自己的所有课程
  - 学生只可以加入课程
  - 学生可以对自己的课程进行归档和退课
  - 学生可以在归档管理中看到已归档的课程，可以选择恢复或退课
  - 学生可以对课程进行拖动排序
- [] **课程详情页：**
  - 学生可以查看课程的成员
- [] **作业详情页**
  - 点击作业题目进入作业提交页面
  - 点击加号添加作业文件

### 附加/创新功能

- [] 课程的资料管理功能，资料分为附件资源和外链资源，附件资源是教师从本地上传的课程所用文件，外链资源是一些网络资源的链接，比如一些在线视频的链接
- [] 课程话题
- [] 课程备课区

#### 教师端详细介绍

- [] **课程资料：**
  - [] 教师可以为课程添加、删除、移动（移动文件夹）、下载资料
- [] **话题：**
  - [] 教师可以发起话题（类似贴吧的帖子），可以匿名回复
  - [] 教师可以置顶、编辑和删除任意的话题
  - [] 教师可以禁止学生话题讨论
- [] **备课区：**
  - 教师可以在备课区提前准备作业、资源、话题等，发布时可以选择直接从备课区导入已准备好的文件

#### 学生端详细介绍

- [] **课程资料：**
  - [] 学生只可以下载资料
- [] **话题：**
  - [] 学生可以发起话题（类似贴吧的帖子），可以匿名回复
  - [] 学生可以编辑和删除自己的话题

## 项目实现记录

### 2023.6.9

- **完成项目前后端的环境搭建和基本架构的搭建**
- **后端：实现请求的权限校验，开放用户验证登录、登出接口：** 配置
  SecurityConfiguration，完成基本的权限校验配置，开放用户验证的登录 `api/auth/login`
  接口、登出接口 `api/auth/logout`
- **后端：制定接口返回值的格式规范：** 设计 RestBean 类，封装接口的返回值，方便构造为 JSON
  字符串格式，让前端可以很方便地解析
- **数据库：设计账号表，用于用户验证登录：**
  表 authorizeAccount，属性有：id、username、email、telephone、password、roleType、school，其中数据库中存储的密码是原始密码经过
  md5 加密后的结果，从而保证安全性，即使数据库被攻击也不会泄露用户的原始密码
- **后端：实现用户验证登录接口：** 使用 MyBatis
  框架，设计 Account 实体类、AccountMapper 接口、AccountAuthorizeService 服务类，实现用户登录的业务逻辑，最后使用
  Resource 注解将服务类自动装配到 SecurityConfiguration 配置类中，并完成后端用户验证登录接口的实现

## 项目部署环境

- MySQL 8.0.31
- JDK 17.0.7
- Maven 3.9.2
- Node.js 20.1.0
